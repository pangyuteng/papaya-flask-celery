FROM node:lts-alpine
ENV NODE_OPTIONS=--openssl-legacy-provider
RUN npm install -g http-server
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN apk add --no-cache bash wget
RUN chmod +x ./entrypoint.sh
RUN npm run build
EXPOSE 8080
ENTRYPOINT ["/app/entrypoint.sh"]
#run server
CMD [ "http-server", "dist" ]
